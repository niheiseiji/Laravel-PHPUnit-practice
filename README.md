## 概要
### ユニットテストの概要
ユニットテスト（単体テスト）は、各クラスが持つメソッドが意図通りに動作するかの検証するために実施する。ブラウザ上でのテストと違い、テストをコード化するため自動化が可能になる。テストを自動化することでコードの品質を高めることができる。多くのテストパターンが必要な項目についてはブラウザ上でのテストと比較してテスト工数を削減できる可能性がある。

### PHPUnitの概要
PHPUnitは、「開発者は、新しくコミットされたコードの誤りをすばやく見つけ、コードの他の部分で不具合やバグが発生していないと明言できる必要がある」という考えに基づいたPHPテスト用フレームワークである。  
公式マニュアル:https://phpunit.readthedocs.io/ja/latest/

### PHPUnitとLaravelの関係性
LaravelはPHPUnitをサポートしており標準で搭載されている。Laravelをインストールしていれば追加インストールなくPHPUnitによるテストが実行できる。Laravelをインストールしたディレクトリにあるphpunit.xmlがPHPUnitの設定ファイルとなる。  
↓インストール直後のテスト実行例
```
# php artisan test

   PASS  Tests\Unit\ExampleTest
  ✓ example

   PASS  Tests\Feature\ExampleTest
  ✓ example

  Tests:  2 passed
  Time:   4.64s
```
### PHPUnit関連用語
#### ユニットテスト
Service、Model、Middleware、Policyなどで作ったクラスのメソッド単位でテストする。最も粒度の細かいテスト。```/tests/Unit```配下にテストを配置する。
#### フィーチャーテスト
１つのHTTPリクエスト単位の動きをテストする。コントローラのアクションメソッド単位でのテスト。```/tests/Feature```配下にテストを配置する。
#### アサーション
あるコードが実行される時に満たされるべき条件を記述して実行時にチェックする仕組みのこと。例えばassertEquals()は引数1と引数2が等しくない場合にエラーを返す。以下のような使い方をする。
```
    public function testFailure()
    {
        // 等しくないのでエラーを返す
        $this->assertEquals(1, 0);
    }
```

#### アノテーション
メタデータを表す特別な構文のこと。PHPUnitでは各メソッドの前にアノテーションを付与することで、実行時の振る舞いを設定できる。以下のような使い方をする。
```
/**
 * @test //このメソッドがテストメソッドであることを明示的に指定する
 */
public function initialBalanceShouldBe0()
{
    $this->assertSame(0, $this->ba->getBalance());
}
```
（順次追加）

## ハンズオン

### 目的
- テスト駆動開発の基本的な流れの修得
- ユニットテスト（単体テスト）とフィーチャーテスト（機能テスト）の修得
- Laravelでの自動テスト手法の修得

### 参考資料
基本的な流れは下記リンクの教材に従う。適宜追加で学習していく。  
>「Laravelでテスト駆動開発を学ぼう！」https://www.techpit.jp/courses/92

### 動作環境
- Laravel v8.62.0
- PHP 8.0.11
- MySQL 8.0.26

### 全体の流れ
1. 環境構築
2. ユニットテストの作り方
3. フィーチャーテストの作り方
4. まとめ
